<!DOCTYPE html>
<html lang="zh-hans">

<head>
    
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<meta name="HandheldFriendly" content="True" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
<meta name="generator" content="Hugo 0.72.0" />


<link rel="apple-touch-icon" sizes="180x180" href="/images/img/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/images/img/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/images/img/favicon-16x16.png">
<link rel="manifest" href="/images/img/site.webmanifest">
<link rel="mask-icon" href="/images/img/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">



<title>剑指Offer 面试题22：链表中倒数第k个节点 - 宇宙之一粟的小屋</title>


<meta name="author" content="yuzhou1su" />


<meta name="description"
      content="A minimal Hugo theme with nice theme color." />


<meta name="keywords" content="剑指offer, 算法" />


<meta property="og:title" content="剑指Offer 面试题22：链表中倒数第k个节点" />
<meta property="og:description" content="“Successful people appear to be traveling along one continual, successful road. What is not apparent is the perseverance it takes following each defeat to keep you on that road. No one I know of has ever experienced one success after another without defeats, failures, disappointments, and frustrations galore along the way. Learning to overcome those times of agony is what separates the winners from the losers.” — G. Kingsley Ward 面试题22：链表中倒数第k" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://yuzhoustayhungry.github.io/2020/09/%E5%89%91%E6%8C%87offer-%E9%9D%A2%E8%AF%95%E9%A2%9822%E9%93%BE%E8%A1%A8%E4%B8%AD%E5%80%92%E6%95%B0%E7%AC%ACk%E4%B8%AA%E8%8A%82%E7%82%B9/" />
<meta property="og:image" content="https://yuzhoustayhungry.github.io/img/og.png"/>
<meta property="article:published_time" content="2020-09-15T13:26:03+08:00" />
<meta property="article:modified_time" content="2020-09-15T13:26:03+08:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://yuzhoustayhungry.github.io/img/og.png"/>

<meta name="twitter:title" content="剑指Offer 面试题22：链表中倒数第k个节点"/>
<meta name="twitter:description" content="“Successful people appear to be traveling along one continual, successful road. What is not apparent is the perseverance it takes following each defeat to keep you on that road. No one I know of has ever experienced one success after another without defeats, failures, disappointments, and frustrations galore along the way. Learning to overcome those times of agony is what separates the winners from the losers.” — G. Kingsley Ward 面试题22：链表中倒数第k"/>





<link rel="stylesheet" href="/assets/css/fuji.min.css" />







</head>

<body data-theme="auto">
    <script data-cfasync="false">
    
    var fujiThemeData = localStorage.getItem('fuji_data-theme');
    
    if (!fujiThemeData) {
        localStorage.setItem('fuji_data-theme', 'auto');
    } else {
        
        if (fujiThemeData !== 'auto') {
            document.body.setAttribute('data-theme', fujiThemeData === 'dark' ? 'dark' : 'light');
        }
    }
</script>
<script data-cfasync="false">
    
    var ua = window.navigator.userAgent;

    function browserDetection() {
        if (ua.indexOf('MSIE ') > 0 || ua.indexOf('Trident/') > 0 || ua.indexOf('Edge/') > 0) {
            return true;
        }
        return false;
    }

    if (browserDetection()) {
        window.location.href('https:\/\/yuzhoustayhungry.github.io\/ie\/');
    }
</script>
    <header>
    <div class="container-lg clearfix">
        <div class="col-12 header">
            <a class="title-main" href="https://yuzhoustayhungry.github.io/">宇宙之一粟的小屋</a>
            
            <span class="title-sub">Keep coding, Keep Loving. 热爱文学和技术，用有趣的知识武装头脑，分享简单的快乐</span>
            
        </div>
    </div>
</header>

    <main>
        <div class="container-lg clearfix">
            
            <div class="col-12 col-md-9 float-left content">
                
<article>
    
    <h2 class="post-item post-title">
        <a href="https://yuzhoustayhungry.github.io/2020/09/%E5%89%91%E6%8C%87offer-%E9%9D%A2%E8%AF%95%E9%A2%9822%E9%93%BE%E8%A1%A8%E4%B8%AD%E5%80%92%E6%95%B0%E7%AC%ACk%E4%B8%AA%E8%8A%82%E7%82%B9/">剑指Offer 面试题22：链表中倒数第k个节点</a>
    </h2>
    <div class="post-item post-meta">
        <span><ion-icon name="today"></ion-icon></ion-icon>&nbsp;2020-09-15</span><span><ion-icon name="file-tray"></ion-icon>&nbsp;817 字</span><span><ion-icon name="stopwatch"></ion-icon>&nbsp;2 分钟</span><span><ion-icon name="pricetags"></ion-icon>&nbsp;<a href="/tags/%E5%89%91%E6%8C%87offer">剑指offer</a>&nbsp;<a href="/tags/%E7%AE%97%E6%B3%95">算法</a>&nbsp;</span>
    </div>
    
    
    <div class="post-content markdown-body">
        <blockquote>
<p>“Successful people appear to be traveling along one  continual, successful road. What is not apparent is the perseverance it  takes following each defeat to keep you on that road. No one I know of  has ever experienced one success after another without defeats,  failures, disappointments, and frustrations galore along the way.  Learning to overcome those times of agony is what separates the winners  from the losers.” — G. Kingsley Ward</p>
</blockquote>
<h1 id="面试题22链表中倒数第k个节点">面试题22：链表中倒数第k个节点</h1>
<p>输入一个链表，输出该链表中倒数第k个节点。为了符合大多数人的习惯，本题从1开始计数，即链表的尾节点是倒数第1个节点。例如，一个链表有6个节点，从头节点开始，它们的值依次是1、2、3、4、5、6。这个链表的倒数第3个节点是值为4的节点。</p>
<h2 id="解题思路">解题思路</h2>
<ol>
<li>两次遍历: 一次求节点个数n，一次走 n-k+1 步</li>
</ol>
<p>单链表是单向，所以只能顺着数，但是如果要找到倒数第 <em>k</em> 个节点，其实就是顺着数第 <em>n - k + 1</em> 个节点。</p>
<p>时间复杂度: <em>O(2n)</em></p>
<p>空间复杂度：<em>O(1)</em></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span>:
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">getKthFromEnd</span>(self, head: ListNode, k: int) <span style="color:#f92672">-&gt;</span> ListNode:
        cur,count <span style="color:#f92672">=</span> head, <span style="color:#ae81ff">0</span>  <span style="color:#75715e"># 这里一定要保存head的位置</span>
        <span style="color:#66d9ef">while</span> head:
            count <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
            head <span style="color:#f92672">=</span> head<span style="color:#f92672">.</span>next  <span style="color:#75715e"># 第一次遍历结束后，head为空</span>
        
        <span style="color:#66d9ef">for</span> _ <span style="color:#f92672">in</span> range(count <span style="color:#f92672">-</span> k):
            cur <span style="color:#f92672">=</span> cur<span style="color:#f92672">.</span>next    <span style="color:#75715e"># 使用cur来重新遍历</span>
        <span style="color:#66d9ef">return</span> cur
</code></pre></div><ol start="2">
<li>双指针</li>
</ol>
<ul>
<li>第一个指针移动k步，第二个指针再从头开始，这个时候两个指针同时移动</li>
<li>当第一个指针到达链表的末尾的时候，返回第二个指针</li>
</ul>
<p>时间复杂度: <em>O(n)</em></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span>:
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">getKthFromEnd</span>(self, head: ListNode, k: int) <span style="color:#f92672">-&gt;</span> ListNode:

        <span style="color:#66d9ef">if</span> head <span style="color:#f92672">is</span> None <span style="color:#f92672">or</span> k <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">0</span>:
            <span style="color:#66d9ef">return</span> None
        
        first, second <span style="color:#f92672">=</span> head, head

        <span style="color:#75715e"># first一直走到k</span>
        <span style="color:#66d9ef">for</span> _ <span style="color:#f92672">in</span> range(k):
            first <span style="color:#f92672">=</span> first<span style="color:#f92672">.</span>next
        <span style="color:#75715e"># 当first不为空，first,second一起走</span>
        <span style="color:#66d9ef">while</span> first:
            first, second <span style="color:#f92672">=</span> first<span style="color:#f92672">.</span>next, second<span style="color:#f92672">.</span>next
        <span style="color:#75715e"># first为空，second所在的位置刚好就是倒数第k个节点</span>
        <span style="color:#66d9ef">return</span> second
</code></pre></div><ol start="3">
<li>递归法</li>
</ol>
<p>递归往下走，同时增加一个<code>count</code>来记录递的次数，并把结果记录在res中，当到达第k个节点时，直接返回<code>head</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span>:
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">getKthFromEnd</span>(self, head: ListNode, k: int) <span style="color:#f92672">-&gt;</span> ListNode:

        count <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
        <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">helper</span>(head):
            <span style="color:#75715e"># 边界条件</span>
            <span style="color:#66d9ef">if</span> head <span style="color:#f92672">is</span> None:
                <span style="color:#66d9ef">return</span> None
            nonlocal count 
            res <span style="color:#f92672">=</span> helper(head<span style="color:#f92672">.</span>next)
            count <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
            <span style="color:#66d9ef">if</span>  count <span style="color:#f92672">==</span> k:
                <span style="color:#66d9ef">return</span> head
            <span style="color:#66d9ef">return</span> res
        <span style="color:#66d9ef">return</span> helper(head)
</code></pre></div><p>其实也不需要增加count，直接利用k，每一次递的过程中，对k进行减一，当<code>k==0</code>,说明到达第k个节点，返回<code>head</code>,不然将继续进行下去，直到<code>head</code>为空。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span>:
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">getKthFromEnd</span>(self, head: ListNode, k: int) <span style="color:#f92672">-&gt;</span> ListNode:

        <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">helper</span>(head):
            <span style="color:#66d9ef">if</span> head <span style="color:#f92672">is</span> None:
                <span style="color:#66d9ef">return</span> None
            nonlocal k  <span style="color:#75715e"># python更改k为全局变量</span>
            res <span style="color:#f92672">=</span> helper(head<span style="color:#f92672">.</span>next)
            k <span style="color:#f92672">-=</span> <span style="color:#ae81ff">1</span>
            <span style="color:#66d9ef">if</span>  k <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>:
                <span style="color:#66d9ef">return</span> head
            <span style="color:#66d9ef">return</span> res
        <span style="color:#66d9ef">return</span> helper(head)
</code></pre></div><blockquote>
<p>人生苦短，继续使用Python刷题。宇宙之一粟，下次见!</p>
</blockquote>

    </div>
</article>


<div class="license markdown-body">
    <blockquote>
        <p>除特殊注明部分，本站内容采用 <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"
               target="_blank">CC BY-NC-SA 4.0</a> 进行许可。</p>
    </blockquote>
</div>


  <div id="vcomments"></div>
  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src='//unpkg.com/valine/dist/Valine.min.js'></script>

  <script type="text/javascript">
    new Valine({
        el: '#vcomments' ,
        appId: 'jQ6E95rSWyJnP3Vm6RD44X7T-gzGzoHsz',
        appKey: 'ixeh3gWeKpul4xa6HKh5WErn',
        notify: 'false', 
        verify: 'false', 
        avatar:'mm', 
        placeholder: '谢谢你来了，说点什么吧...',
        visitor: 'true'
    });
  </script>



            </div>
            <aside class="col-12 col-md-3 float-left sidebar">
    
    
    <div class="sidebar-item sidebar-toc">
        <h3>目录</h3>
        <nav id="TableOfContents">
  <ul>
    <li><a href="#解题思路">解题思路</a></li>
  </ul>
</nav>
    </div>
    
    
    <div class="sidebar-item sidebar-pages">
        <h3>文章</h3>
        <ul>
            
            <li>
                <a href="/">首页文章</a>
            </li>
            
            <li>
                <a href="/archives/">文章归档</a>
            </li>
            
            <li>
                <a href="/about/">关于作者</a>
            </li>
            
            <li>
                <a href="/index.xml" target="_blank">RSS</a>
            </li>
        </ul>
    </div>
    
    <div class="sidebar-item sidebar-tags">
        <h3>标签云</h3>
        <div>
            
            <span>
                <a href="/tags/api%E5%BC%80%E5%8F%91/">API开发</a>
            </span>
            
            <span>
                <a href="/tags/django/">Django</a>
            </span>
            
            <span>
                <a href="/tags/go/">Go</a>
            </span>
            
            <span>
                <a href="/tags/python/">Python</a>
            </span>
            
            <span>
                <a href="/tags/%E5%89%91%E6%8C%87offer/">剑指offer</a>
            </span>
            
            <span>
                <a href="/tags/%E6%80%9D%E8%80%83/">思考</a>
            </span>
            
            <span>
                <a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a>
            </span>
            
            <span>
                <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/">数据结构与算法</a>
            </span>
            
            <span>
                <a href="/tags/%E7%AE%97%E6%B3%95/">算法</a>
            </span>
            
            <span>
                <a href="/tags/%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3/">编程思想</a>
            </span>
            
        </div>
    </div>
    
    <div class="sidebar-item sidebar-links">
        <h3>友情链接</h3>
        <ul>
            
            <li>
                <a href="https://github.com/yuzhouStayHungry" target="_blank"><span>GitHub</span></a>
            </li>
            
            <li>
                <a href="https://blog.csdn.net/yuzhou_1shu" target="_blank"><span>CSDN</span></a>
            </li>
            
            <li>
                <a href="https://www.jianshu.com/u/93e9b14c6fbd" target="_blank"><span>简书</span></a>
            </li>
            
        </ul>
    </div>
    
</aside>
        </div>
        <div class="btn">
    <div class="btn-toggle-mode">
        <ion-icon name="contrast"></ion-icon>
    </div>
    <div class="btn-scroll-top">
        <ion-icon name="chevron-up"></ion-icon>
    </div>
</div>
    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_SVG"></script>

<footer>
    <div class="container-lg clearfix">
        <div class="col-12 footer">
            <span>&copy; 2020 <a href="https://yuzhoustayhungry.github.io/">宇宙之一粟</a> |
                基于 <a href="https://github.com/amzrk2/hugo-theme-fuji/"
                   target="_blank">Fuji-v2</a> & <a href="https://gohugo.io/"
                   target="_blank">Hugo</a> 构建</span>
        </div>
    </div>
</footer>
    
    <script src="https://cdn.jsdelivr.net/npm/lazysizes@5.2.2/lazysizes.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.5/dist/medium-zoom.min.js"></script>
<script type="module" src="https://cdn.jsdelivr.net/npm/ionicons@5.0.1/dist/ionicons/ionicons.esm.js"></script>
<script nomodule="" src="https://cdn.jsdelivr.net/npm/ionicons@5.0.1/dist/ionicons/ionicons.js"></script>

<script src="/assets/js/fuji.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/prismjs@1.20.0/components/prism-core.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs@1.20.0/plugins/autoloader/prism-autoloader.min.js"></script>


</body>

</html>