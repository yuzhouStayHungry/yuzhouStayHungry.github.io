<!DOCTYPE html>
<html lang="zh-hans">

<head>
    
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<meta name="HandheldFriendly" content="True" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
<meta name="generator" content="Hugo 0.72.0" />


<link rel="apple-touch-icon" sizes="180x180" href="/images/img/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/images/img/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/images/img/favicon-16x16.png">
<link rel="manifest" href="/images/img/site.webmanifest">
<link rel="mask-icon" href="/images/img/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">



<title>为什么校招面试中“线程与进程的区别”老是被问到?我该如何回答？ - 宇宙之一粟的小屋</title>


<meta name="author" content="宇宙之一粟" />


<meta name="description"
      content="A minimal Hugo theme with nice theme color." />


<meta name="keywords" content="Python, 操作系统" />


<meta property="og:title" content="为什么校招面试中“线程与进程的区别”老是被问到?我该如何回答？" />
<meta property="og:description" content="进程与线程？（Process vs. Thread？） 面试官（正襟危坐中）：给我说说“线程”与“进程”吧。 我（总是不太聪明的样子）：“限乘？”、“进什么城（程）？” 面试官：“操作系统中的进程与线程，你回去了解" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://yuzhoustayhungry.github.io/post/%E7%BA%BF%E7%A8%8B%E4%B8%8E%E8%BF%9B%E7%A8%8B/" />
<meta property="og:image" content="https://yuzhoustayhungry.github.io/img/og.png"/>
<meta property="article:published_time" content="2020-06-11T22:13:27+08:00" />
<meta property="article:modified_time" content="2020-06-11T22:13:27+08:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://yuzhoustayhungry.github.io/img/og.png"/>

<meta name="twitter:title" content="为什么校招面试中“线程与进程的区别”老是被问到?我该如何回答？"/>
<meta name="twitter:description" content="进程与线程？（Process vs. Thread？） 面试官（正襟危坐中）：给我说说“线程”与“进程”吧。 我（总是不太聪明的样子）：“限乘？”、“进什么城（程）？” 面试官：“操作系统中的进程与线程，你回去了解"/>





<link rel="stylesheet" href="/assets/css/fuji.min.css" />







</head>

<body data-theme="auto">
    <script data-cfasync="false">
    
    var fujiThemeData = localStorage.getItem('fuji_data-theme');
    
    if (!fujiThemeData) {
        localStorage.setItem('fuji_data-theme', 'auto');
    } else {
        
        if (fujiThemeData !== 'auto') {
            document.body.setAttribute('data-theme', fujiThemeData === 'dark' ? 'dark' : 'light');
        }
    }
</script>
<script data-cfasync="false">
    
    var ua = window.navigator.userAgent;

    function browserDetection() {
        if (ua.indexOf('MSIE ') > 0 || ua.indexOf('Trident/') > 0 || ua.indexOf('Edge/') > 0) {
            return true;
        }
        return false;
    }

    if (browserDetection()) {
        window.location.href('https:\/\/yuzhoustayhungry.github.io\/ie\/');
    }
</script>
    <header>
    <div class="container-lg clearfix">
        <div class="col-12 header">
            <a class="title-main" href="https://yuzhoustayhungry.github.io/">宇宙之一粟的小屋</a>
            
            <span class="title-sub">热爱文学和技术，用有趣的知识武装头脑，分享简单的快乐</span>
            
        </div>
    </div>
</header>

    <main>
        <div class="container-lg clearfix">
            
            <div class="col-12 col-md-9 float-left content">
                
<article>
    
    <h2 class="post-item post-title">
        <a href="https://yuzhoustayhungry.github.io/post/%E7%BA%BF%E7%A8%8B%E4%B8%8E%E8%BF%9B%E7%A8%8B/">为什么校招面试中“线程与进程的区别”老是被问到?我该如何回答？</a>
    </h2>
    <div class="post-item post-meta">
        <span><ion-icon name="today"></ion-icon></ion-icon>&nbsp;2020-06-11</span><span><ion-icon name="file-tray"></ion-icon>&nbsp;2694 字</span><span><ion-icon name="stopwatch"></ion-icon>&nbsp;6 分钟</span><span><ion-icon name="pricetags"></ion-icon>&nbsp;<a href="/tags/python">Python</a>&nbsp;<a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F">操作系统</a>&nbsp;</span>
    </div>
    
    
    <div class="post-content markdown-body">
        <h1 id="进程与线程process-vs-thread">进程与线程？（Process vs. Thread？）</h1>
<p><strong>面试官</strong>（正襟危坐中）：给我说说“线程”与“进程”吧。</p>
<p><strong>我</strong>（总是不太聪明的样子）：“限乘？”、“进什么城（程）？”</p>
<p><strong>面试官</strong>：“操作系统中的进程与线程，你回去了解一下。门在左边，记得关门。”
<img class="img-zoomable" src="https://img-blog.csdnimg.cn/20200405153303791.jpeg#pic_center" alt="在这里插入图片描述" /></p>
<p>当翻译过来后，这两个概念都带了个“程”字，但进程的英文：Process，而线程的英文：Thread，好像并没有什么联系。</p>
<p>大多数初学者一开始都会被这两个概念弄的晕头转向，包括我本人。</p>
<p><img class="img-zoomable" src="https://img-blog.csdnimg.cn/20200405150933399.jpg#pic_center" alt="在这里插入图片描述" /></p>
<p>当你看完这篇文章，可能你就有了新的理解。</p>
<p>不信，你接着往下看看（不过在这之前，点个赞或关注好不好？）。</p>
<h2 id="进程和线程基础理论概念">进程和线程基础（理论概念）</h2>
<h3 id="1-定义">1. 定义</h3>
<p>看了下面的定义，可能会有点晕，但我还是要把他写下来（为了严谨）。</p>
<p><strong>进程</strong>是资源（CPU、内存等）分配的基本单位，具有一定<strong>独立</strong>功能的程序关于某个数据集合上的一次运行活动，进程是系统进行<strong>资源分配和调度</strong>的一个独立单位。</p>
<p><strong>线程</strong>是进程的一个实体，是<strong>独立运行和独立调度</strong>的基本单位（CPU上真正运行的是线程）。线程自己基本上不拥有系统资源，只拥有一点在运行中必不可少的资源(如程序计数器,一组寄存器和栈)，但是它可与同属一个进程的其他的<strong>线程共享</strong>进程所拥有的全部资源。</p>
<h3 id="2区别">2.区别</h3>
<ol>
<li>进程是资源分配的基本单位；线程是程序执行的基本单位。</li>
<li>进程拥有自己的资源空间，没启动一个进程，系统就会为它分配地址空间；而线程与CPU资源分配无关，多个线程共享同一进程内的资源，使用相同的地址空间。</li>
<li>一个进程可以包含若干个线程。</li>
</ol>
<h3 id="3-优劣">3. 优劣</h3>
<p>正是因为这二者有区别，所以带来的各自的优劣</p>
<ol>
<li>线程之间的通信更方便，同一进程下的线程共享全局变量、静态变量等数据，而进程之间的通信需要以通信的方式（Inter Process Communication，IPC)进行。不过如何处理好同步与互斥是编写多线程程序的难点。</li>
<li>线程的调度与切换比进程快很多，同时创建一个线程的开销也比进程要小很多。</li>
<li>但是多进程程序更健壮，多线程程序只要有一个线程死掉，整个进程也死掉了，而一个进程死掉并不会对另外一个进程造成影响，因为进程有自己独立的地址空间。</li>
</ol>
<blockquote>
<p>除此之外，推荐看一下阮一峰的一篇博客：<a href="http://www.ruanyifeng.com/blog/2013/04/processes_and_threads.html" target="_blank">进程与线程的一个简单解释</a>，用图解释十分生动形象。</p>
</blockquote>
<h2 id="为什么这个问题是面试高频">为什么这个问题是面试高频？</h2>
<p>既然这个问题是面试当中会被经常问到的，所以我去网上找一个答案，背出来不就好了。</p>
<p><img class="img-zoomable" src="https://img-blog.csdnimg.cn/20200405155850882.jpeg#pic_center" alt="在这里插入图片描述" /></p>
<p>但是，真的背答案就可以了吗？</p>
<p>我们来分析一下为什么众多面试官老是问这个问题，他应该并不是想听到一个对书本上概念的重复。</p>
<p>那么，<strong>他究竟想考什么？</strong></p>
<ol>
<li>侧重点一：面试官想要了解面试者对这一<strong>知识点的理解程度</strong>（因为这是操作系统中不得不提的一个概念）。如果这个概念回答不上来，意味着面试者对操作系统的学习并不深。</li>
<li>侧重点二：面试官可以对你的回答作进一步展开，通过你的回答某个侧重点方向来<strong>进一步提问</strong>你对你自己回答的理解。（这个高频问题的价值所在）。</li>
</ol>
<p>比如：</p>
<ul>
<li>当你回答到：进程与线程的内存结构不同。进程与进程之间不能共享内存，而线程可以。那么面试官就可以就内存这一点深入提问——内存如何寻址？</li>
<li>当你回答：线程之间通信很方便，进程与进程通信不方便。那么问题就又来了，你给我说一下进程之间怎么通信？进程之间通信方法有哪些？不同通信方法有哪些优劣点？</li>
</ul>
<h2 id="如何回答一个更满意的答案">如何回答一个更满意的答案？</h2>
<p>如何作答，才能展示一个让面试官更满意的答案？</p>
<p>这里就不得不用张三丰教给张无忌的太极拳的那一招——忘掉。。。
对就是把上面的概念全都忘掉。只留一个目的：“把敌人打败”。
最后用自己的一招一式（理解）来回答。</p>
<h3 id="再谈进程与线程口语表述">再谈“进程”与“线程”（口语表述）</h3>
<p>进程的<strong>本质：</strong>：正在执行的一个程序，可以进程比作一个容器或者工厂
<img class="img-zoomable" src="https://img-blog.csdnimg.cn/20200405155808231.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l1emhvdV8xc2h1,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述" /></p>
<p>通过上图，方便我们了解并记忆：</p>
<ol>
<li>
<p>进程与进程之间相对独立</p>
</li>
<li>
<p>进程可以包括几个或者上百个线程在运行。</p>
</li>
<li>
<p>内存（逻辑内存）包括在进程里面，每个进程的内存都是互相独立的，但从一个更高的层次上看，不同的进程也共享着一个巨大的空间，这个空间就是整个计算机。</p>
</li>
<li>
<p>进程共有文件/网络句柄（handle），这样可以打开同一个文件，抢同一个网络端口。</p>
</li>
</ol>
<p>从不同的视角来看进程：
<img class="img-zoomable" src="https://img-blog.csdnimg.cn/20200405154933221.png#pic_center" alt="进程模型的3个视角" /></p>
<p>线程的<strong>本质</strong>：真正运行的是一个一个的线程
<img class="img-zoomable" src="https://img-blog.csdnimg.cn/2020040516061277.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l1emhvdV8xc2h1,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述" />
同理，上图我们知道线程包含：</p>
<ol>
<li>
<p>栈（堆栈）：主线程的main函数、进行函数调用的参数和返回地址、局部变量等内容都会被压入栈内</p>
</li>
<li>
<p>PC（Program Couner）：程序计数器，PC的指针指向代码所在的内存地址。</p>
</li>
<li>
<p>TLS（Thread local storage）：分配内存，存放变量</p>
</li>
</ol>
<p>当有了上面的问题做引子后，面试官就可以借此引出更多话题：</p>
<h3 id="1-如何通信沟通的内容">1. 如何通信（沟通）的内容</h3>
<p>通信是人的基本需求，进程与进程之间是相互独立的，也有通信需求。根据这一问题就可以展开内容提问：</p>
<ul>
<li>进程/线程如何通信<br>
答：进程可以通过管道、套接字、信号交互、共享内存、消息队列等等进行通信；而线程本身就会共享内存，指针指向同一个内容，交互很容易。</li>
<li>通信方式的差异，比如进程间共享内存和消息队列有何异同？</li>
</ul>
<h3 id="2-如何同步协调的内容">2. 如何同步（协调）的内容</h3>
<p>一旦有了通信，人与人之间就会产生矛盾，进程也一样。这些矛盾就会体现在如何同步上。</p>
<ul>
<li>在单个CPU下，实际上在任何时刻只能有一个进程处于执行状态。而其他进程则处于非执行状态。我们是如何确定在任意时刻到底由哪个进程执行，哪些不执行呢？进而又可以引出锁的概念？（如何进行进程调度？）</li>
<li>线程之间的关系是合作关系。既然是合作，那就得有某种约定的规则，否则合作就会出问题。（如何进行线程同步？）</li>
</ul>
<h3 id="3-关于内存原理相关问题">3. 关于内存原理相关问题</h3>
<p>进程要分配内存，所以开销很大，进程只需要分配栈，分配一个PC就好，内存开销小。</p>
<p>这一块就可以问到了操作系统中的内存原理相关的内容。</p>
<h1 id="总结">总结</h1>
<p>总之，如果上述内容你都了解，那肯定是不怕被问到（大佬，请收下我的膝盖）；如果看了此篇文章之后，你能答出个大概，我相信面试官也会放过你，毕竟，我们也真的不是背书机器。所以，我们在回答过程中，尽量别给自己挖坑，用自己理解的知识点进行回答。
切忌背书式的回答，模棱两可，因为这样面试官几个连环炮就容易暴露问题了。</p>
<blockquote>
<p>如果你能看到这，能否给我点个关注，点个赞让我也收到鼓励。如果觉得我写的内容有误，也欢迎评论指出。</p>
</blockquote>
<p>注意，要敲黑板啦。
<img class="img-zoomable" src="https://img-blog.csdnimg.cn/20200405170609586.jpeg?size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述" /></p>
<ul>
<li>进程是什么？它指的是一个运动中的程序。从名字上看，进程表示的就是进展中的程序。一个程序一旦在计算机里运行起来，它就成为一个进程。进程与进程之间可以通信、同步、竞争，并在一定情况下可能形成死锁。</li>
<li>那么线程是什么？我们知道，进程是运转的程序，是为了在CPU上实现多道编程而发明的一个概念。但是进程在一个时间只能干一件事情。如果想同时干两件事，办法就是线程。线程是进程里面的一个执行上下文或者执行序列。</li>
</ul>
<p>最后，祝大家答的愉快！面试过！过！过！</p>
<blockquote>
<p>参考资料：</p>
<ol>
<li>《现代操作系统（第3版）》</li>
<li>《操作系统之哲学原理(第2版)》</li>
</ol>
</blockquote>

    </div>
</article>


<div class="license markdown-body">
    <blockquote>
        <p>除特殊注明部分，本站内容采用 <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"
               target="_blank">CC BY-NC-SA 4.0</a> 进行许可。</p>
    </blockquote>
</div>


  <div id="vcomments"></div>
  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src='//unpkg.com/valine/dist/Valine.min.js'></script>

  <script type="text/javascript">
    new Valine({
        el: '#vcomments' ,
        appId: 'jQ6E95rSWyJnP3Vm6RD44X7T-gzGzoHsz',
        appKey: 'ixeh3gWeKpul4xa6HKh5WErn',
        notify: 'false', 
        verify: 'false', 
        avatar:'mm', 
        placeholder: '谢谢你来了，说点什么吧...',
        visitor: 'true'
    });
  </script>



            </div>
            <aside class="col-12 col-md-3 float-left sidebar">
    
    
    <div class="sidebar-item sidebar-toc">
        <h3>目录</h3>
        <nav id="TableOfContents">
  <ul>
    <li><a href="#进程和线程基础理论概念">进程和线程基础（理论概念）</a>
      <ul>
        <li><a href="#1-定义">1. 定义</a></li>
        <li><a href="#2区别">2.区别</a></li>
        <li><a href="#3-优劣">3. 优劣</a></li>
      </ul>
    </li>
    <li><a href="#为什么这个问题是面试高频">为什么这个问题是面试高频？</a></li>
    <li><a href="#如何回答一个更满意的答案">如何回答一个更满意的答案？</a>
      <ul>
        <li><a href="#再谈进程与线程口语表述">再谈“进程”与“线程”（口语表述）</a></li>
        <li><a href="#1-如何通信沟通的内容">1. 如何通信（沟通）的内容</a></li>
        <li><a href="#2-如何同步协调的内容">2. 如何同步（协调）的内容</a></li>
        <li><a href="#3-关于内存原理相关问题">3. 关于内存原理相关问题</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
    
    
    <div class="sidebar-item sidebar-pages">
        <h3>文章</h3>
        <ul>
            
            <li>
                <a href="/">主页</a>
            </li>
            
            <li>
                <a href="/archives/">文章归档</a>
            </li>
            
            <li>
                <a href="/about/">关于我</a>
            </li>
            
            <li>
                <a href="/index.xml" target="_blank">RSS</a>
            </li>
        </ul>
    </div>
    
    <div class="sidebar-item sidebar-tags">
        <h3>标签云</h3>
        <div>
            
            <span>
                <a href="/tags/go/">Go</a>
            </span>
            
            <span>
                <a href="/tags/python/">Python</a>
            </span>
            
            <span>
                <a href="/tags/%E5%89%91%E6%8C%87offer/">剑指offer</a>
            </span>
            
            <span>
                <a href="/tags/%E6%80%9D%E8%80%83/">思考</a>
            </span>
            
            <span>
                <a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a>
            </span>
            
            <span>
                <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/">数据结构与算法</a>
            </span>
            
            <span>
                <a href="/tags/%E7%AE%97%E6%B3%95/">算法</a>
            </span>
            
            <span>
                <a href="/tags/%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3/">编程思想</a>
            </span>
            
        </div>
    </div>
    
    <div class="sidebar-item sidebar-links">
        <h3>友情链接</h3>
        <ul>
            
            <li>
                <a href="https://github.com/yuzhouStayHungry" target="_blank"><span>GitHub</span></a>
            </li>
            
            <li>
                <a href="https://blog.csdn.net/yuzhou_1shu" target="_blank"><span>CSDN</span></a>
            </li>
            
            <li>
                <a href="https://www.jianshu.com/u/93e9b14c6fbd" target="_blank"><span>简书</span></a>
            </li>
            
        </ul>
    </div>
    
</aside>
        </div>
        <div class="btn">
    <div class="btn-toggle-mode">
        <ion-icon name="contrast"></ion-icon>
    </div>
    <div class="btn-scroll-top">
        <ion-icon name="chevron-up"></ion-icon>
    </div>
</div>
    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_SVG"></script>

<footer>
    <div class="container-lg clearfix">
        <div class="col-12 footer">
            <span>&copy; 2020 <a href="https://yuzhoustayhungry.github.io/">宇宙之一粟</a> |
                基于 <a href="https://github.com/amzrk2/hugo-theme-fuji/"
                   target="_blank">Fuji-v2</a> & <a href="https://gohugo.io/"
                   target="_blank">Hugo</a> 构建</span>
        </div>
    </div>
</footer>
    
    <script src="https://cdn.jsdelivr.net/npm/lazysizes@5.2.2/lazysizes.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.5/dist/medium-zoom.min.js"></script>
<script type="module" src="https://cdn.jsdelivr.net/npm/ionicons@5.0.1/dist/ionicons/ionicons.esm.js"></script>
<script nomodule="" src="https://cdn.jsdelivr.net/npm/ionicons@5.0.1/dist/ionicons/ionicons.js"></script>

<script src="/assets/js/fuji.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/prismjs@1.20.0/components/prism-core.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs@1.20.0/plugins/autoloader/prism-autoloader.min.js"></script>


</body>

</html>